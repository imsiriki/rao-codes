<!DOCTYPE html>
<html lang="en">

  <head>
    <title>Duplicates count</title>
  </head>

  <body>
    <script>
      /*************:: EXAMPLE -1 :: *************/
      var arr = ["one", "one", "one", "two", "two", "three"];
      var count = {};
      for (var i = 0; i < arr.length; i++) {
        element = arr[i];
        count[element] = (count[element] || 0) + 1;
      }
      console.log(count); // {one: 3, two: 2, three: 1}


/****************************************************************
 :: An array count the words::
*****************************************************************/
    let myarray45 = ["hello", "world", "java", "hello", "java"];

    function countWord(p) {
      var count = {};
      p.forEach((item) => {
        if (count[item]) {
          count[item]++
        } else {
          count[item] = 1;
        }

      });
      return count;
    }
  console.log(countWord(myarray45));//Output:    { hello: 2, world: 1, java: 2 }



/****************************************************************
:: In array find a common value ::
*****************************************************************/
  const myWords = ["madb", "bas", "cab"];

  const commonCharacters = myWords.reduce((common, word) => {
    return common.filter(char => word.includes(char));
  }, myWords[0].split(''));

  console.log(commonCharacters); // Output: ["a", "b"]





      /*************:: EXAMPLE -2 :: *************/
      var countValues = ["a", "z", "m", "a", "c", "m"];
      var countEachValue = {};
      countValues.map(
        (x) => (countEachValue[x] = (countEachValue[x] || 0) + 1)
      );
      console.log(countEachValue); //op : {a: 2, z: 1, m: 2, c: 1}


      /*************:: EXAMPLE -3 :: *************/
      function getFrequency(string) {
        var freq = {};
        for (var i = 0; i < string.length; i++) {
          var character = string.charAt(i);
          if (freq[character]) {
            freq[character]++;
          } else {
            freq[character] = 1;
          }
        }
        return freq;
      }
      const op = getFrequency("SIRIKI SRINIVAS");
      console.log(op);//{ "S": 3, "I": 5,"R": 2, "K": 1," ": 1,  "N": 1, "V": 1, "A": 1 }


      /*************:: EXAMPLE -4 find repeat words in string :: *************/

      let str = "I am not gonna live forever, but I wanna live while I am alive",
        split = str.split(" "),
        obj = {};

      for (let i = 0; i < split.length; i++) {
        if (obj[split[i]] === undefined) {
          obj[split[i]] = 1;
        } else {
          obj[split[i]]++;
        }
      }
      console.log(obj) //{   "I": 3, "am": 2,  "not": 1,  "gonna": 1, "live": 2, "forever,": 1,   "but": 1,   "wanna": 1,  "while": 1,  "alive": 1 }



      let words = "I am not gonna live forever, but I wanna live while I am alive";

      function countRepeatedWords(sentence) {
        let words = sentence.split(" ");
        let wordMap = {};

        for (let i = 0; i < words.length; i++) {
          let currentWordCount = wordMap[words[i]];
          let count = currentWordCount ?
            currentWordCount : 0;
          wordMap[words[i]] = count + 1;
        } return wordMap;
      } 
      console.log(countRepeatedWords(words)); //{ "I": 3, "am": 2, "not": 1, "gonna": 1, "live": 2, "forever,": 1, "but": 1, "wanna": 1, "while": 1, "alive": 1 }


/****************************************************************
:: in array find common object valuues count ::
*****************************************************************/
  const myData = [
    { name: 'a', designation: 'manager' },
    { name: 'b', designation: 'lead' },
    { name: 'c', designation: 'lead' },
    { name: 'd', designation: 'developer' },
    { name: 'e', designation: 'developer' },
    { name: 'f', designation: 'developer' },
    { name: 'g', designation: 'developer' }
  ];

  const designationCount = myData.reduce((acc, curr) => {
    acc[curr.designation] = (acc[curr.designation] || 0) + 1;
    return acc;
  }, {});

console.log(designationCount); //Output:{ manager: 1, lead: 2, developer: 4 }

/****************************************************************
:: Group items on the basis of age of given array of object::
*****************************************************************/

  let people = [
    { name: 'Alice', age: 21 },
    { name: 'ramu', age: 20 },
    { name: 'mani', age: 20 },
    { name: 'chdwick', age: 21 },
    { name: 'srinu', age: 22 },
  ];
  function groubBy(ar) {
    var check = {};
    ar.forEach((item) => {
      if (!check[item.age]) {
        check[item.age] = [item];
      } else {
        check[item.age].push(item)
      }
    });
    return check;
  }
  console.log(groubBy(people));
/*OUTPUT
{
'20': [ { name: 'ramu', age: 20 }, { name: 'mani', age: 20 } ],
'21': [ { name: 'Alice', age: 21 }, { name: 'chdwick', age: 21 } ],
'22': [ { name: 'srinu', age: 22 } ]
}
*/


/****************************************************************
:: Group items on the basis of age of given array of object::
*****************************************************************/

  const peoplenew = [
    { id: 1, name: 'Alice', age: 25 },
    { id: 2, name: 'Bob', age: 30 },
    { id: 3, name: 'Alice', age: 28 },
  ];

  const groupByProperty = (arr, property) => arr.reduce((grouped, obj) => ({
    ...grouped, [obj[property]]: [...(grouped[obj[property]] || []), obj]
  }), {});


  const result = groupByProperty(peoplenew, 'name');
  console.log(result)
/*
  Output:
  {
    Alice: [
          { id: 1, name: 'Alice', age: 25 },
          { id: 3, name: 'Alice', age: 28 }
       ],
    Bob: [ { id: 2, name: 'Bob', age: 30 } ]
  }
*/






      /*************:: EXAMPLE -4 find repeat words in string :: *************/
      /*************:: EXAMPLE -4 find repeat words in string :: *************/
      /*************:: EXAMPLE -4 find repeat words in string :: *************/

    </script>
  </body>

</html>